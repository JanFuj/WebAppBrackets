@model IEnumerable<TestWebAppCoolName.Models.Course>

@{
    ViewBag.Title = "Admin Kurz";
}

<body class="body--admin">
    @Html.Partial("_LoginPartial")
    <main class="main">


        <div class="admin-list-header">
            <h1>Kurzy</h1>
            @Html.ActionLink("Vytvořit", "NewCourse", null, new { @class = "button" })
        </div>

        <ul class="admin-list">
            @foreach (var item in Model)
            {


                <li class="admin-list__item">
                    <div class="admin-list__cell admin-list__cell--info">
                        <div class="">@Html.DisplayFor(modelItem => item.Name)</div>
                        <div class="">@Html.DisplayFor(modelItem => item.Lector.FullName)</div>
                    </div>
                    <div class="admin-list__cell admin-list__cell--buttons">
                        @Html.ActionLink("Upravit", "EditCourse", "Admin", new { id = item.Id }, new { @class = "link--gradient" })

                        @Html.ActionLink("Náhled", "Index", "Course", new { title = item.UrlTitle, preview = true }, new { @class = "link--gradient" })
                        @Html.ActionLink("Smazat", "DeleteCourse", "Admin", new { id = item.Id }, new { @class = "link--gradient" })
                        @if (User.IsInRole(TestWebAppCoolName.Models.Roles.Admin))
                        {
                            if (item.Approved)
                            {
                                @Html.ActionLink("Od-Publikovat", "ApproveCourse", "Admin", new { id = item.Id, approve = false }, new { @class = "link--gradient" })
                            }
                            else
                            {
                                @Html.ActionLink("Publikovat", "ApproveCourse", "Admin", new { id = item.Id, approve = true }, new { @class = "link--gradient" })
                            }
                        }
                    </div>
                </li>

            }
        </ul>

    </main>
</body>